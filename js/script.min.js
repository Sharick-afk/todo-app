const form=document.querySelector("#newTaskForm"),input=document.querySelector("#addNewTask"),tasksList=document.querySelector("#list-group");function toggleEmptyListItem(){tasksList.children.length>1?document.querySelector("#empty-list-item").style.display="none":document.querySelector("#empty-list-item").style.display="block"}function saveData(){localStorage.setItem("todoList",tasksList.innerHTML)}function loadData(){localStorage.getItem("todoList")&&(tasksList.innerHTML=localStorage.getItem("todoList"))}loadData(),form.addEventListener("submit",(function(t){t.preventDefault();const e=`<li class="list-group-item d-flex justify-content-between">\n   <span contenteditable="true" class="task-title">${input.value}</span>\n <div>\n    <button type="button" data-action="ready" class="btn btn-light align-self-end">Готово</button>\n   <button type="button" data-action="delete-task" class="btn btn-light align-self-end">Удалить</button>\n </div>\n </li>`;tasksList.insertAdjacentHTML("afterbegin",e),toggleEmptyListItem(),input.value="",input.focus(),saveData()})),tasksList.addEventListener("click",(function(t){if("delete-task"===t.target.getAttribute("data-action"))t.target.closest(".list-group-item").remove(),toggleEmptyListItem(),saveData();else if("ready"===t.target.getAttribute("data-action")){const e=t.target.closest("li.list-group-item");e.querySelector(".task-title").classList.add("task-title--done"),e.querySelector(".task-title").setAttribute("contenteditable","false"),e.querySelector('button[data-action="ready"]').remove(),tasksList.insertAdjacentElement("beforeend",e),saveData()}}));